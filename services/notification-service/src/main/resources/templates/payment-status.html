<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment Status Notification</title>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;">
<table role="presentation" style="width: 100%; border-collapse: collapse;">
    <tr>
        <td align="center" style="padding: 20px 0;">
            <table role="presentation" style="width: 600px; max-width: 100%; border-collapse: collapse; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">

                <!-- Header -->
                <tr>
                    <td align="center" style="padding: 30px 20px 20px 20px;">
                        <h1 style="margin: 0; font-size: 28px; color: #333;">
                            <span style="color: #d84315;">Event</span> Hub
                        </h1>
                    </td>
                </tr>

                <!-- Status Icon -->
                <tr>
                    <td align="center" style="padding: 20px 0 10px 0;">
                        <div th:if="${status == 'SUCCESS'}" style="width: 60px; height: 60px; background-color: #4caf50; border-radius: 50%; display: inline-block; line-height: 60px; text-align: center;">
                            <span style="color: white; font-size: 36px; line-height: 60px; vertical-align: middle;">‚úì</span>
                        </div>
                        <div th:if="${status == 'FAILED'}" style="width: 60px; height: 60px; background-color: #f44336; border-radius: 50%; display: inline-block; line-height: 60px; text-align: center;">
                            <span style="color: white; font-size: 36px; line-height: 60px; vertical-align: middle;">‚úï</span>
                        </div>
                        <div th:if="${status == 'PENDING'}" style="width: 60px; height: 60px; background-color: #ff9800; border-radius: 50%; display: inline-block; line-height: 60px; text-align: center;">
                            <span style="color: white; font-size: 36px; line-height: 60px; vertical-align: middle;">‚è±</span>
                        </div>
                        <div th:if="${status != 'SUCCESS' && status != 'FAILED' && status != 'PENDING'}" style="width: 60px; height: 60px; background-color: #9e9e9e; border-radius: 50%; display: inline-block; line-height: 60px; text-align: center;">
                            <span style="color: white; font-size: 36px; line-height: 60px; vertical-align: middle;">‚äò</span>
                        </div>
                    </td>
                </tr>

                <!-- Content -->
                <tr>
                    <td style="padding: 20px 40px;">
                        <h2 style="margin: 0 0 10px 0; font-size: 24px; color: #333; text-align: center;">
                            <span th:if="${status == 'SUCCESS'}">Payment Successful</span>
                            <span th:if="${status == 'FAILED'}">Payment Failed</span>
                            <span th:if="${status == 'PENDING'}">Payment Pending</span>
                            <span th:if="${status != 'SUCCESS' && status != 'FAILED' && status != 'PENDING'}">Payment Cancelled</span>
                        </h2>
                        <p style="margin: 10px 0 20px 0; font-size: 16px; line-height: 1.6; color: #666; text-align: center;">
                            Hi <span th:text="${fullName}" style="color: #333; font-weight: 600;">User</span>, <span th:text="${message}">your payment status has been updated.</span>
                        </p>
                    </td>
                </tr>

                <!-- Payment Details -->
                <tr>
                    <td style="padding: 0 40px 20px 40px;">
                        <table role="presentation" style="width: 100%; border-collapse: collapse; background-color: #f9f9f9; border-radius: 8px;">
                            <tr>
                                <td style="padding: 20px;">
                                    <h3 style="margin: 0 0 15px 0; font-size: 20px; color: #d84315;">
                                        Payment Details
                                    </h3>
                                    <p style="margin: 0 0 10px 0; font-size: 14px; color: #333;">
                                        <strong>Transaction ID:</strong>
                                        <span th:text="${transactionId}" style="font-family: monospace; color: #666;">TXN123456</span>
                                    </p>
                                    <p style="margin: 0 0 10px 0; font-size: 14px; color: #333;">
                                        <strong>Amount:</strong>
                                        <span style="font-size: 18px; color: #d84315; font-weight: 600;">
                                            GH‚Çµ<span th:text="${#numbers.formatDecimal(amount, 1, 2)}">0.00</span>
                                        </span>
                                    </p>
                                    <p style="margin: 0 0 10px 0; font-size: 14px; color: #333;">
                                        <strong>Payment Method:</strong> <span th:text="${paymentMethod}">Card</span>
                                    </p>
                                    <p style="margin: 0 0 10px 0; font-size: 14px; color: #333;">
                                        <strong>Status:</strong>
                                        <span th:if="${status == 'SUCCESS'}" style="color: #4caf50; font-weight: 600;">Success</span>
                                        <span th:if="${status == 'FAILED'}" style="color: #f44336; font-weight: 600;">Failed</span>
                                        <span th:if="${status == 'PENDING'}" style="color: #ff9800; font-weight: 600;">Pending</span>
                                        <span th:if="${status != 'SUCCESS' && status != 'FAILED' && status != 'PENDING'}" style="color: #9e9e9e; font-weight: 600;">Cancelled</span>
                                    </p>
                                    <p style="margin: 0; font-size: 14px; color: #333;">
                                        <strong>Date & Time:</strong> <span th:text="${#temporals.format(timestamp, 'MMM dd, yyyy HH:mm:ss')}">Jan 01, 2025 12:00:00</span>
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- Action/Status Note -->
                <tr>
                    <td style="padding: 0 40px 30px 40px;">
                        <table role="presentation" th:if="${status == 'SUCCESS'}" style="width: 100%; border-collapse: collapse; background-color: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 4px;">
                            <tr>
                                <td style="padding: 15px 20px;">
                                    <p style="margin: 0; font-size: 13px; color: #2e7d32; line-height: 1.5;">
                                        <strong>Great!</strong> Your payment has been processed successfully. You'll receive a receipt shortly.
                                    </p>
                                </td>
                            </tr>
                        </table>
                        <table role="presentation" th:if="${status == 'FAILED'}" style="width: 100%; border-collapse: collapse; background-color: #ffebee; border-left: 4px solid #f44336; border-radius: 4px;">
                            <tr>
                                <td style="padding: 15px 20px;">
                                    <p style="margin: 0; font-size: 13px; color: #c62828; line-height: 1.5;">
                                        <strong>Payment Failed:</strong> Please check your payment details and try again. If the issue persists, contact your bank or our support team.
                                    </p>
                                </td>
                            </tr>
                        </table>
                        <table role="presentation" th:if="${status == 'PENDING'}" style="width: 100%; border-collapse: collapse; background-color: #fff3e0; border-left: 4px solid #ff9800; border-radius: 4px;">
                            <tr>
                                <td style="padding: 15px 20px;">
                                    <p style="margin: 0; font-size: 13px; color: #e65100; line-height: 1.5;">
                                        <strong>Processing:</strong> Your payment is being processed. This may take a few minutes. We'll notify you once it's complete.
                                    </p>
                                </td>
                            </tr>
                        </table>
                        <table role="presentation" th:if="${status != 'SUCCESS' && status != 'FAILED' && status != 'PENDING'}" style="width: 100%; border-collapse: collapse; background-color: #f5f5f5; border-left: 4px solid #9e9e9e; border-radius: 4px;">
                            <tr>
                                <td style="padding: 15px 20px;">
                                    <p style="margin: 0; font-size: 13px; color: #616161; line-height: 1.5;">
                                        <strong>Payment Cancelled:</strong> This transaction has been cancelled. No charges have been made to your account.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- Support Button (for failed payments) -->
                <tr th:if="${status == 'FAILED'}">
                    <td align="center" style="padding: 0 40px 30px 40px;">
                        <a href="mailto:noreply.event.planner.amalitech@gmail.com"
                           style="display:inline-block;background-color:#d84315;color:#fff;padding:14px 28px;text-decoration:none;border-radius:6px;font-size:16px;font-weight:500;">
                            üí¨ Contact Support
                        </a>
                    </td>
                </tr>

                <!-- Footer -->
                <tr>
                    <td style="padding: 20px 40px; background-color: #f9f9f9; text-align: center; border-top: 1px solid #e0e0e0;">
                        <p style="margin: 0 0 10px 0; font-size: 14px; color: #666;">
                            Questions? Contact us at
                            <a href="mailto:noreply.event.planner.amalitech@gmail.com" style="color: #d84315; text-decoration: none;">noreply.event.planner.amalitech@gmail.com</a>
                        </p>
                        <p style="margin: 0; font-size: 12px; color: #999; line-height: 1.5;">
                            ¬© 2025 EventHub. All rights reserved.<br/>
                            You're receiving this email because you made a payment on EventHub.
                        </p>
                    </td>
                </tr>

            </table>
        </td>
    </tr>
</table>
</body>
</html>